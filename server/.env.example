# Server Environment Configuration Template

# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control!

# Application Environment
NODE_ENV=development
PORT=5000
HOST=localhost

# Database Configuration (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_database_password_here
DB_NAME=GoldenMunchPOS
# Set to 'true' for cloud databases that require SSL (Aiven, AWS RDS, etc.)
DB_SSL=false

# JWT Authentication Secrets
# IMPORTANT: Generate secure random strings for production!
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_change_this
ADMIN_JWT_SECRET=your_admin_jwt_secret_change_this
CASHIER_JWT_SECRET=your_cashier_jwt_secret_change_this

# JWT Token Expiration
ADMIN_JWT_EXPIRES_IN=8h
CASHIER_JWT_EXPIRES_IN=12h

# CORS Configuration
# Multiple origins can be specified as comma-separated values
# Local: http://localhost:3000,http://localhost:3001,http://localhost:3002
# Production: https://goldenmunchadmin.onrender.com
CORS_ORIGIN=https://goldenmunchadmin.onrender.com,http://localhost:3000,http://localhost:3001,http://localhost:3002

# Mobile Editor URL (for QR code generation)
# This is the URL where users will be directed when scanning QR codes for custom cake design
# The mobile editor is served as static files from the backend server
# Local: http://localhost:3001
# Production: https://goldenmunchserver.onrender.com
MOBILE_EDITOR_URL=https://goldenmunchserver.onrender.com
BACKEND_URL=https://goldenmunchserver.onrender.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload (in bytes - 10MB default)
MAX_FILE_SIZE=10485760

# Supabase Configuration (for image storage)
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here

# Xendit Payment Gateway Configuration
# Get your API keys from: https://dashboard.xendit.co/settings/developers#api-keys
# TEST mode: use xnd_development_... key (safe for development/testing)
# LIVE mode: use xnd_production_... key (real payments)
#
# Using: Invoice API with QRPH (QR Philippines) payment method
# QRPH enables payments via GCash, PayMaya, and Philippine bank apps
# Must activate QRPH in Xendit dashboard (takes 1-3 business days)
XENDIT_SECRET_KEY=xnd_development_your_test_key_here

# API URL (for Xendit webhooks and redirect URLs)
# Local: http://localhost:5000
# Production: https://goldenmunchserver.onrender.com
# Xendit uses this for:
#   - Webhook callbacks: {API_URL}/api/webhooks/xendit/invoice
#   - Success redirect: {API_URL}/api/payment/success
#   - Failure redirect: {API_URL}/api/payment/failed
#   - Resend webhook: {API_URL}/api/webhooks/resend/inbound
API_URL=https://goldenmunchserver.onrender.com

# Logging
LOG_LEVEL=info

# Redis Configuration (for caching)
# Set to 'true' to enable Redis caching for improved performance
REDIS_ENABLED=true

# Option 1: Redis URL (Recommended for cloud providers like Render, Heroku, Redis Cloud)
# Format: redis://username:password@host:port or rediss://username:password@host:port (for TLS)
# Example: rediss://default:your_password@redis-12345.cloud.redislabs.com:12345
REDIS_URL=

# Option 2: Individual parameters (for local development or custom setup)
# Only used if REDIS_URL is not set
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_TLS=false
# Redis database number (0-15)
REDIS_DB=0
# Default cache TTL in seconds (5 minutes)
REDIS_DEFAULT_TTL=300

# Email Configuration (for notifications)
# Using Resend API for reliable email delivery
# Get your API key from: https://resend.com/api-keys
# Documentation: https://resend.com/docs
#
# IMPORTANT: You must verify your domain in Resend dashboard before sending emails
# Steps:
#   1. Sign up at https://resend.com
#   2. Get your API key from: https://resend.com/api-keys
#   3. Add and verify your domain in: https://resend.com/domains
#   4. Set EMAIL_FROM_ADDRESS to an email from your verified domain
#
# API Key format: re_xxxxxxxxxxxxx
RESEND_API_KEY=re_V6CTKgG4_TMRSt5ecda1rPEH69hdHqcAG

# Resend Webhook Secret (for inbound email signature verification)
# Get this from: https://resend.com/webhooks -> Your webhook -> Signing Secret
# Format: whsec_xxxxxxxxxxxxx
# IMPORTANT: Required for processing customer email replies securely
RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Email From Address (must be from a verified domain in Resend)
# Format: email@yourdomain.com
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=GoldenMunch POS

# Admin Email (receives notifications about new custom cake requests)
# Can be any valid email address
ADMIN_EMAIL=admin@goldenmunch.com

# Business Contact Information (shown in emails)
BUSINESS_PHONE=+1234567890
BUSINESS_ADDRESS=123 Main Street, City, Country
