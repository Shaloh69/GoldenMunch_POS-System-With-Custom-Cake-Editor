# Pre-Commit Hook Setup

This project uses Husky and lint-staged to ensure code quality before commits.

## What it does

When you run `git commit`, the pre-commit hook automatically:

1. **Formats code** with Prettier
2. **Lints TypeScript files** with ESLint (auto-fixes issues)
3. **Only processes staged files** (not the entire codebase)

## Configuration

### package.json
```json
{
  "lint-staged": {
    "*.{ts,tsx}": [
      "prettier --write",
      "eslint --fix --max-warnings 10"
    ],
    "*.{json,md,css}": [
      "prettier --write"
    ]
  }
}
```

### .husky/pre-commit
Located in project root: `/home/user/GoldenMunch_POS-System-With-Custom-Cake-Editor/.husky/pre-commit`

## Usage

Normal git workflow - the hook runs automatically:

```bash
git add .
git commit -m "Your commit message"
# Pre-commit hook runs automatically here
# Formats and lints your staged files
git push
```

## Bypassing the hook (not recommended)

If you absolutely need to skip the pre-commit hook:

```bash
git commit --no-verify -m "Emergency commit"
```

**Warning**: Only use `--no-verify` in emergency situations. The hook helps maintain code quality.

## Troubleshooting

### Hook doesn't run
```bash
# Reinstall husky
npm run prepare
chmod +x .husky/pre-commit
```

### Commit fails due to linting errors
```bash
# Fix the errors first
npm run lint

# Then try commit again
git commit -m "Your message"
```

### Too many warnings
The hook allows up to 10 warnings. If you have more:
1. Fix the warnings: `npm run lint`
2. Or adjust `--max-warnings` in package.json
